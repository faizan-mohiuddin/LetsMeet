<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<div th:include="fragments/js :: jquery"></div>
<div th:include="fragments/js :: bootstrap"></div>


<body>
    <div th:fragment="basic_search">
        <form class="d-flex lm-search" id="searchForm">
            <input class="form-control me-2 bg-primary text-white btn-outline-secondary" id="searchBox" type="text" th:placeholder="#{core.search}" aria-label="Search">
            <button class="btn btn-secondary" type="submit" style="position: relative; left: -20px"><i class="bi bi-search"></i></button>
        </form>

        <script th:inline="javascript">
            $('.lm-search').submit(function() {

                var message = /*[[#{core.search.error}]]*/ 'Search for something!';

                let val = $(this).find('input').val();
                if (val.length > 0){
                    window.open(`/search?term=${val}`,'_self')
                }
                else{
                    //document.getElementById('searchBox').placeholder = "Search for something!";
                    $(this).find('input').attr("placeholder", message);
                }

                return false; // return false to cancel form action
            });
        </script>
    </div>
</body>